{% extends "layout.twig" %}
{% block content %}

<div class="row">
    <div class="span10">
        <h1>Ballmer Peak Estimation</h1>
        <p>Based on an average UK adult male, 30 minutes after consuming the indicated drinks.</p>
        <ul>
            {% for drink in ballmer.drinks %}
                <li>{{drink.name}}</li>
            {% else %}
                <li>You don't seem to have had anything to drink yet. Visit a drink page and click &quot;Consume&quot;.</li>
            {% endfor %}
        </ul>
    </div>
    <div class="span2 ballmer-state text-info">
        <span class="label label-{{ballmer.state}}">{{ballmer.level}}</span>
    </div>
</div>

<div class="row">
    <div class="span12">
        <div id="chart" style="height: 500px width: 100%"></div>
    </div>
</div>

{% endblock %}

{% block scripts %}
<script src="https://www.google.com/jsapi"></script>
<script>
    google.load("visualization", "1", {packages:["corechart"]});
    google.setOnLoadCallback(drawChart)

    var rawData = [
        ['BAC', 'Programming Performance'],
        [0, 5],
        [0.005, 4.95],
        [0.01, 4.9],
        [0.015, 4.85],
        [0.02, 4.8],
        [0.025, 4.75],
        [0.03, 4.7],
        [0.035, 4.65],
        [0.04, 4.6],
        [0.045, 4.55],
        [0.05, 4.5],
        [0.055, 4.4],
        [0.06, 4.3],
        [0.065, 4.2],
        [0.07, 4.1],
        [0.075, 4],
        [0.08, 3.8],
        [0.085, 3.5],
        [0.09, 3],
        [0.095, 2.5],
        [0.10, 2],
        [0.105, 1.5],
        [0.11, 1],
        [0.115, 0.5],
        [0.12, 10], // 0.129
        [0.125, 10],
        [0.13, 10],
        [0.135, 10],
        [0.14, 10], // 0.138
        [0.145, 1],
        [0.15, 0.95],
        [0.155, 0.9],
        [0.16, 0.85],
        [0.165, 0.8],
        [0.17, 0.75],
        [0.175, 0.7],
        [0.18, 0.65],
        [0.185, 0.6],
        [0.19, 0.55],
        [0.195, 0.5],
        [0.20, 0.45],
        [0.205, 0.4],
        [0.21, 0.35],
        [0.215, 0.3],
        [0.22, 0.25],
        [0.225, 0.2],
        [0.23, 0.15],
        [0.235, 0.1],
        [0.24, 0.05],
        [0.245, 0],
        [0.25, 0],
        [0.245, 0],
        [0.26, 0]
    ];

    function drawChart() {
        var data = google.visualization.arrayToDataTable(rawData);

        var options = {
          title: 'Ballmer Peak'        };

        var chart = new google.visualization.LineChart(document.getElementById('chart'));
        chart.draw(data, options);
    }
</script>
{% endblock %}
